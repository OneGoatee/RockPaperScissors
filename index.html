<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Project: Rock Paper Scissors</title>
    <script>
      // 1. Create a function called getComputerChoice that will return "Rock", "Paper" or "Scissors"
      function getComputerChoice() {
        let computerChoice = Math.floor(Math.random() * 3 + 1);

        if (computerChoice === null) {
          return;
        } else if (computerChoice === 1) {
          return 'ROCK';
        } else if (computerChoice === 2) {
          return 'PAPER';
        } else {
          return 'SCISSORS';
        }
      }

      // 2. Create a function that plays a single round of Rock Paper Scissors and take two parameters
      //    playerSelection and computerSelection and returns a string with the winner of the round
      //    such as "You lose! Paper beats Rock". Make playerSelection case-insensitive
      function playRound(playerSelection, computerSelection) {
        if (playerSelection === computerSelection) {
          return 'Draw!';
        }

        switch (playerSelection) {
          case 'ROCK':
            if (computerSelection === 'SCISSORS') {
              console.log('You win! Rock beats Scissors');
              return 'Player';
            } else if (computerSelection === 'PAPER') {
              console.log('You lose! Paper beats Rock');
              return 'Computer';
            }
            break;
          case 'PAPER':
            if (computerSelection === 'SCISSORS') {
              console.log('You lose! Scissors beats Paper');
              return 'Computer';
            } else if (computerSelection === 'ROCK') {
              console.log('You win! Paper beats Rock');
              return 'Player';
            }
            break;
          case 'SCISSORS':
            if (computerSelection === 'PAPER') {
              console.log('You win! Scissors beats Paper');
              return 'Player';
            } else if (computerSelection === 'ROCK') {
              console.log('You lose! Rock beats Scissors');
              return 'Computer';
            }
            break;
        }
      }

      // Create function called game to play 5 rounds, keep score and determine a winner
      function game() {
        let playerScore = 0;
        let computerScore = 0;
        let gameResult;

        while (playerScore < 5 || computerScore < 5) {
          if (playerScore === 5 || computerScore === 5) {
            return `GAME OVER!`;
          }

          const playerSelection = prompt('Type Rock, Paper or Scissors').toUpperCase();

          if (playerSelection === null) {
            return 'Player cancelled the game!';
          } else if (playerSelection === '' || (playerSelection != 'ROCK' && playerSelection != 'PAPER' && playerSelection != 'SCISSORS')) {
            return 'Invalid selection, Game Over!';
          }

          const computerSelection = getComputerChoice().toUpperCase();

          gameResult = playRound(playerSelection, computerSelection);

          if (gameResult === 'Draw') {
            return;
            console.log(`DRAW: The score is player ${playerScore} and computer ${computerScore}`);
          } else if (gameResult === 'Computer') {
            computerScore++;
            console.log(`COMPUTER WINS: The score is player ${playerScore} and computer ${computerScore}`);
          } else {
            playerScore++;
            console.log(`PLAYER WINS: The score is player ${playerScore} and computer ${computerScore}`);
          }
        }

        if (playerScore > computerScore) {
          return 'You won the game';
        } else {
          return 'You lose the game';
        }
      }
    </script>
  </head>
  <body></body>
</html>
